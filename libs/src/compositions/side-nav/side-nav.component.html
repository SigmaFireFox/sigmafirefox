<div *ngIf="config" class="module-window">
  <mat-drawer-container class="draw-container" autosize>
    
    <mat-drawer #drawer 
      class="open-menu" 
      mode="side" 
      [opened]="drawerOpen">
      <div 
        class="open-menu-button" 
        (click)="toggleDraw()">
        <mat-icon >arrow_circle_left</mat-icon>
      </div>
      <sff-navigation-menu 
        class='open-menu-top' 
        [config]="modulesMenuOpenConfig"
        (menuItemClicked)="onMenuItemClicked($event)">
      </sff-navigation-menu>
      <sff-navigation-menu 
        class='open-menu-bottom' 
        [config]="userMenuOpenConfig"
        (menuItemClicked)="onMenuItemClicked($event)">
      </sff-navigation-menu>
    </mat-drawer>

    <div #closedMenu
      *ngIf="!drawer.opened" 
      class="closed-menu">
      <div 
        class="closed-menu-button" 
        (click)="toggleDraw()">
        <mat-icon >arrow_circle_right</mat-icon>
      </div>
      <sff-navigation-menu 
        *ngIf="!drawer.opened"
        class='closed-menu-top' 
        [config]="modulesMenuClosedConfig"
        (menuExpanded)="drawerOpen = true"
        (menuItemClicked)="onMenuItemClicked($event)">
      </sff-navigation-menu>
      <sff-navigation-menu
        class='closed-menu-bottom' 
        *ngIf="!drawer.opened" 
        [config]="userMenuClosedConfig"
        (menuExpanded)="drawerOpen = true"
        (menuItemClicked)="onMenuItemClicked($event)">
      </sff-navigation-menu>
    </div>

    <div #viewport
      class="view-port">
      <router-outlet></router-outlet>
    </div>
    
  </mat-drawer-container>
</div>